<div class="rte-toolbar" id="redactor-toolbar-<?=$type?>">
    <div id="tb-selections-redactor-<?=$type?>">
        <div class="form-standard">
            <div class="redactor-toolbar cke_toolbox">
                <?php foreach ($buttons as $button => $label): ?>
                    <?php
                        $lc_class = str_replace(':', '', strtolower($button));
                        $id = 'tb-option-' . $lc_class;
                        switch ($lc_class) {
                            case 'fullscreen':
                                $icon_class = 'expand';
                                break;
                            case 'filemanager': 
                                $icon_class = 'file';
                                break;
                            case 'imagemanager': 
                                $icon_class = 'file';
                                break;
                            case 'inlinestyle':
                                $icon_class = 'inline';
                                break;
                            case 'specialchars':
                                $icon_class = 'specialcharacters';
                                break;
                            default:
                                $icon_class = $lc_class;
                                break;
                        }
                    ?>
                    <span id="<?php echo $id ?>" class="cke_toolbar tb-option tb-selected">
                        <span class="cke_toolgroup">
                            <a class="re-button re-button-icon re-<?php echo $lc_class ?> <?php if (!in_array($button, $selection)) { echo 'redactor-button-active';} ?>" title="<?php echo htmlspecialchars($label) ?>">
                                <i class="re-icon-<?php echo $icon_class ?>">
                                    <?php if ($icon_class == 'rte_definedlinks') { ?>
                                        <svg height="16" width="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m11 1c2.209139 0 4 1.790861 4 4s-1.790861 4-4 4c-.7656675 0-1.48108924-.21512764-2.08911866-.58823636-.0308598.0700602-.07139598.13787279-.12058595.2011358l-.08318861.09420734-.26034513.261909c.35153112.59529459.55323835 1.28958382.55323835 2.03098422 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4 1.790861-4 4-4c.74181883 0 1.43647323.20193496 2.03199196.55383363l.26090126-.26094041c.08817393-.08817393.18871724-.15643965.29604433-.20479715-.37380991-.60700683-.58893755-1.32242858-.58893755-2.08809607 0-2.209139 1.790861-4 4-4zm-6 8c-1.1045695 0-2 .8954305-2 2s.8954305 2 2 2 2-.8954305 2-2-.8954305-2-2-2zm6-6c-1.1045695 0-2 .8954305-2 2s.8954305 2 2 2 2-.8954305 2-2-.8954305-2-2-2z"></path></svg>
                                    <?php } ?>

                                    <?php if ($icon_class == 'counter') { ?>
                                        <svg height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m7.46693122 8.39108696c.67791005 0 1.31283068.24347826 1.79232804.68326087.47784391.4397826.74074074 1.02565217.74074074 1.64804347 0 .623913-.26289683 1.2082609-.74074074 1.6495652l-.87136243.8019565h.62003968c.5489418 0 .99206349.4093479.99206349.9130435 0 .5036957-.44312169.9130435-.99206349.9130435h-3.01587302c-.09755291 0-.19345238-.0136957-.28273809-.0380435-.02810847-.0076087-.05621693-.0167391-.08267196-.0258695-.00330688-.0015218-.00661376-.0030435-.00992064-.0030435l-.08597883-.0380435c-.02314815-.0106522-.0462963-.0228261-.06944445-.0380435-.06283068-.035-.11904762-.0776087-.17030423-.1247826-.02314815-.0213043-.04464286-.0426087-.06448413-.063913-.01984127-.0228261-.03968254-.0471739-.05621693-.07s-.03306878-.0456522-.04794973-.07c-.01984127-.0334783-.0380291-.07-.05291006-.105-.01157407-.0243479-.0214947-.0502174-.02810846-.076087-.02645503-.0836956-.04133598-.1704348-.04133598-.2602174s.01488095-.1765217.04133598-.2602174c.00661376-.0258695.01653439-.0517391.02810846-.0760869.01488096-.035.03306879-.0715218.05291006-.105.01488095-.0243479.03141534-.0471739.04794973-.07s.03637566-.0471739.05621693-.07c.01984127-.0213044.04133598-.0426087.06448413-.0639131l2.56448413-2.3617391c.10416666-.0958696.1603836-.2221739.1603836-.3576087 0-.133913-.05621694-.2617391-.1603836-.356087-.20833334-.1917391-.56878307-.1917391-.7771164 0l-.34226191.315c-.38690476.356087-1.01521164.356087-1.4021164 0-.3885582-.3576086-.3885582-.93586952 0-1.29195647l.3422619-.315c.47784392-.43978261 1.11441799-.68326087 1.79067461-.68326087zm.42328042-7.39108696c.02810847 0 .05787037.00152174.0843254.00456522.03472222.00152174.06944444.00608695.10085979.01217391.01157407.00152174.02480158.00456522.03637566.0076087.01818783.00304347.03472222.00608695.05291005.01217391.03141534.00760869.06283069.01826087.09259259.02891304l.05787037.02434783.05621693.02586956c.0925926.04717392.17857143.10956522.25132276.18413044.01488095.01369565.0297619.03043478.04298941.04565217.02810847.03195652.05291006.06543479.0760582.10195652.00992064.01673913.01984127.03195653.02976191.04869566.00330688.00760869.00661376.01369565.00992063.01978261.01322752.02586956.02645503.05173913.03637567.07913043.00496031.01065217.00826719.02130435.01322751.03195652l.01488095.04565218c0 .00152173.00165344.00456521 0 .00608695.00992064.02891305.01653439.05782609.02149471.08673913.00496032.02130435.00661376.04108696.0082672.06239131.00330687.0273913.00496031.05630434.00496031.08521739v4.36434782c0 .50369566-.44312169.91304348-.99206349.91304348-.54728836 0-.99206349-.40934782-.99206349-.91304348v-2.76347826c-.14054233.06391305-.29100529.09434783-.43816138.09434783-.33895502 0-.66798941-.15978261-.8531746-.4473913-.28108466-.43369566-.12566138-.99369566.34556878-1.25086957l1.43187831-.78217391c.0082672-.00456522.01818783-.00913044.02645503-.01369566.00496031-.00304347.00992063-.00608695.01488095-.00760869l.05787037-.02586957c.01157407-.00608695.02480159-.01065217.0380291-.01521739.02314815-.00913043.04794974-.01673913.07275132-.02434782.02149471-.00608696.04133598-.01065218.06117725-.01369566.01322751-.00456521.02645503-.00760869.03968254-.00913043.0082672-.00152174.01653439-.00304348.02480159-.00456522.02149471-.00304348.04298942-.00608695.06448413-.00913043h.00992063c.03141534-.00304348.06283069-.00456522.09424603-.00456522z"></path></svg>
                                    <?php } ?>
                                </i>
                                <input type="hidden" name="settings[redactor_toolbar][<?=$type?>][]" <?php if (!in_array($button, $selection)) { echo 'disabled'; } ?> value="<?php echo $button ?>">
                            </a>
                        </span>
                    </span>
                <?php endforeach; ?>
            </div>
        </div>
    </div>
</div>
